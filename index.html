<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title> Главная страница </title>
    <link type="image/x-icon" rel="shortcut icon" href="favicon.ico">
    <script src="https://yastatic.net/jquery/3.3.1/jquery.min.js">
    </script>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=f04864f1-302e-4fe4-9cf1-0afa46950037&lang=ru_RU" type="text/javascript"></script>
    <script src='JavaScript/pok.js'></script>
    
  </head>
  <body>
    <br>
    <br>
    <!-- <div class="rectangle word">Добро пожаловать, данное приложение поможет создать маршрут по местам ВДНХ специально для Вас!</div><br><br> -->
    Добро пожаловать, данное приложение поможет создать маршрут по местам ВДНХ специально для Вас!
    <br>
    <br>
    <ul>
        <li>Достопримечательности:</li>
    </ul>
	 <div class="group">
         <label><input type="checkbox" id="1" value="1"> Фонтан Дружбы народов </label> <br>
         <label><input type="checkbox" id="2" value="2"> Фонтан Каменный цветок </label><br>
         <label><input type="checkbox" id="3" value="3"> Макет Москвы </label> <br>
         <label><input type="checkbox" id="4" value="4"> Москвариум </label> <br>
         <label><input type="checkbox" id="5" value="5"> Театр Сказок </label> <br>
         <label><input type="checkbox" id="6" value="6"> Робостанция </label> <br>
         <label><input type="checkbox" id="7" value="7"> Россия — моя история </label><br>
         <label><input type="checkbox" id="8" value="8"> Фонтан Золотой колос </label><br>
         <label><input type="checkbox" id="9" value="9"> Павильон № 34 Космос </label><br>
         <label><input type="checkbox" id="10" value="10"> Фанерон. Город мечты </label><br>
         <label><input type="checkbox" id="11" value="11"> Павильон № 58 Центр славянской письменности Слово </label> <br>
         <label><input type="checkbox" id="12" value="12"> Музей Олимпийского движения России </label> <br>
         <label><input type="checkbox" id="13" value="13"> Музей Рерихов </label><br>
         <label><input type="checkbox" id="14" value="14"> Павильон №36. Музей кино </label> <br>
         <label><input type="checkbox" id="15" value="15"> Павильон № 5 Музей городского хозяйства Москвы </label> <br>
         <label><input type="checkbox" id="16" value="16"> Союзмультпарк </label> <br>
         <label><input type="checkbox" id="17" value="17"> Московский ЛисаПарк </label> <br>
         <label><input type="checkbox" id="18" value="18"> Музей ВДНХ </label><br>
         <label><input type="checkbox" id="19" value="19"> Парк интерактивных развлечений Engage VR </label><br>
         <label><input type="checkbox" id="20" value="20"> Павильон №10. Выставочно-торговый центр Республики Молдова </label><br>
         <label><input type="checkbox" id="21" value="21"> Павильон №68. Выставочно-торговый центр Республики Армения </label><br>
         <label><input type="checkbox" id="22" value="22"> Шахматный клуб</label> <br>
         <label><input type="checkbox" id="23" value="23"> Дом культуры </label> <br>
         <label><input type="checkbox" id="24" value="24"> Студия детских настольных игр Dodoland </label><br>
         <label><input type="checkbox" id="25" value="25"> Дом бабочек </label> <br>
         <label><input type="checkbox" id="26" value="26"> Павильон №44 «Кролиководство» </label> <br>
         <label><input type="checkbox" id="27" value="27"> Павильон №67. Карелия </label> <br>
         <label><input type="checkbox" id="28" value="28"> Павильон №11. Выставочно-торговый центр Республики Казахстан </label> <br>
         <label><input type="checkbox" id="29" value="29"> Павильон №12 </label><br>
         <label><input type="checkbox" id="30" value="30"> Строение 457 </label><br>
         <label><input type="checkbox" id="31" value="31"> Павильон №14. Выставочно-торговый центр Азербайджанской Республики </label><br>
         <label><input type="checkbox" id="32" value="32"> Павильон №18. Выставочно-торговый центр Республики Беларусь </label><br>
         <label><input type="checkbox" id="33" value="33"> Павильон №17. Галерея «Лес» </label> <br>
         <label><input type="checkbox" id="34" value="34"> Интерактивный музейный комплекс «Буран» </label> <br>
         <label><input type="checkbox" id="35" value="35"> Самолёт Як-42 </label><br>
         <label><input type="checkbox" id="36" value="36"> Вертолёт Ми-8 </label> <br>
         <label><input type="checkbox" id="37" value="37"> Макет ракеты-носителя «Восток» </label> <br>
         <label><input type="checkbox" id="38" value="38"> Павильон №26. Музей Транспорта Москвы </label> <br>
         <label><input type="checkbox" id="39" value="39"> Павильон №25 «Нефть» </label> <br>
         <label><input type="checkbox" id="40" value="40"> Павильон 21</label><br>
         <label><input type="checkbox" id="41" value="41"> Зелёный театр </label><br>
         <label><input type="checkbox" id="42" value="42"> Зал игp </label><br>
         <label><input type="checkbox" id="43" value="43"> Павильон «Книги» </label><br>
         <label><input type="checkbox" id="44" value="44"> Павильон №31 «Геология» </label> <br>
         <label><input type="checkbox" id="45" value="45"> Музей «Биотех» </label> <br>
         <label><input type="checkbox" id="46" value="46"> Памятник И.В. Мичурину </label><br>
         <label><input type="checkbox" id="47" value="47"> Павильон №29 Цветоводство </label> <br>
         <label><input type="checkbox" id="48" value="48"> Храм-часовня святого Василия Великого </label> <br>
         <label><input type="checkbox" id="49" value="49">Sky Town. Верёвочный парк</label> <br>
         <label><input type="checkbox" id="50" value="50"> Павильон №28 «Пчеловодство» </label> <br>
         <label><input type="checkbox" id="51" value="51"> Павильон №35. Главтабак </label><br>
         <label><input type="checkbox" id="52" value="52"> Фонтан мальчик с рыбой </label><br>
         <label><input type="checkbox" id="53" value="53"> «Техноград». Инновационно-образовательный комплекс </label><br>
         <label><input type="checkbox" id="54" value="54"> Умный город </label><br>
         <label><input type="checkbox" id="55" value="55"> Летний кинотеатр-лекторий </label> <br>
         <label><input type="checkbox" id="56" value="56"> Памятный знак «Работникам ВСХВ, погибшим на фронтах Великой Отечественной войны 1941-1945 гг.» </label> <br>
         <label><input type="checkbox" id="57" value="57"> Истребитель Су-27 </label><br>
         <label><input type="checkbox" id="58" value="58"> Павильон №55. Музей оптических иллюзий </label> <br>
         <label><input type="checkbox" id="59" value="59"> Дом ремёсел </label> <br>
         <label><input type="checkbox" id="60" value="60"> Павильон №33 </label> <br>
         <label><input type="checkbox" id="61" value="61"> Гаража особого назначения ФСО России </label> <br>
         <label><input type="checkbox" id="62" value="62"> Центр национальных конных традиций </label><br>
         <label><input type="checkbox" id="63" value="63"> Городская ферма</label><br>
         <button onclick="alerted();">Клик</button>
   </div>
	  <script>

	$(".group input").on("click", function() {

		if($(".group input:checked").length >= 9) { 
			
			$(".group input:not(:checked)").attr("disabled", true);
		
		} else {
			
			$(".group input:disabled").attr("disabled", false);
		
		}

	});
	
</script>
	  <py-script>
		  import random
		  a=[[0,2,3,4,5],[2,0,4,5,6],[3,4,0,7,8],[4,5,7,0,10], [5,6,8,10,0]]
		  TimeAll=[['Пн', '12:00-18:00'],['Вт','12:00-18:00'],['Ср', '10:00-19:00'],['Чт', '12:00-18:00'],['Пт', '14:00-21:00'],['Сб', 'выходной'],['Вс','выходной']]
		  Time=['Пн', '14:20']
		  def TimeOclc(TimeAll, Time):
		  t=str(Time[1])
		  time=int(t[:2])*60+int(t[3:5])

		  indices = [(i, x.index(Time[0])) for i, x in enumerate(TimeAll) if Time[0] in x]
      s=str(indices[0])
      d=list(s)
      i=int(str(int(d[4])+1))
      j=int(str(int(d[1])))
      win=TimeAll[j][i]
      if win=='выходной':
            return False
      else:
            time1=int(win[:2])*60+int(win[3:5])
            time2=int(win[6:8])*60+int(win[9:11])
      if time1<=time and time<=time2:
            return time2-time
      else:
            return False


s=5
A=1
B=1
ji=0.64 #ВАЖНО
d=[]
Ages=100
q=8
mnTrass=1000000000000
bestT=[]
mas = [0.2] * s
for i in range(s):
    mas[i] = [0.2] * s
ant=10
for fg in range(Ages):
      td=[0]*ant
      for i in range(ant):
            td[i] = [0] * s
      for o in range(ant):
            kf=[]
            antROUTE=[]
            from_city=0
            antROUTE.append(from_city)
            Zero=[]
            for i in range(s):
                  m = [0] * s
                  Zero.append(m)
            for k in range(s):
                  Sum=0
                  for lfg in range(len(a[from_city])):
                        if lfg not in antROUTE:
                              Sum=Sum+(a[from_city][lfg]**B*float(mas[from_city][lfg])**A)
                  kf.append(Sum)
                  for j in range(len(a[from_city])):
                        if j not in antROUTE:
                              lk=a[from_city][j]**B*float(mas[from_city][j])**A
                              if kf[k]!=0:
                                    Zero[from_city][j]=lk/kf[k]
                              else:
                                    Zero[from_city][j]=1
                  if len(antROUTE)!=5:
                        isNotChosen = True
                        while isNotChosen:
                              rand = random.random()
                              for p in Zero[from_city]:
                                    if p >= rand:
                                          indexi=0
                                          for i in range (len(Zero[from_city])):
                                                if p==Zero[from_city][i] and i not in antROUTE:
                                                      indexi=i
                                          td[o][k+1]=indexi
                                          from_city=indexi
                                          antROUTE.append(from_city)
                                          isNotChosen = False
                                          break
                  else:
                        break
      for ih in range(len(mas)):
            for jh in range(len(mas[ih])):
                  mas[ih][jh]=mas[ih][jh]*ji
      for i in range(len(td)-1):
            dsd=0
            Trass=[]
            TimeWR=[]
            TimeW=0
            for j in range(len(td[i])-1):
                  Trass.append(td[i][j])
                  if td[i][j+1]==td[i][s-1]:
                        Trass.append(td[i][j+1])
                  fr=td[i][j]
                  fr1=td[i][j+1]
                  dsd=dsd+a[fr][fr1]
            tic=dsd/50*60
            TimeW=tic+30*s
            TimeWR.append(TimeW)
            if dsd<mnTrass and sum(TimeWR)<=TimeOclc(TimeAll,Time):
                  mnTrass=dsd
                  bestT=Trass             
            L=q/dsd
            for klo in range(len(td[i])):
                  if sum(TimeWR)<=TimeOclc(TimeAll,Time):
                        fr2=td[i][j]
                        fr3=td[i][j+1]
                        mas[fr2][fr3]=mas[fr2][fr3]+L
                        mas[fr3][fr2]=mas[fr3][fr2]+L
print(mnTrass, bestT,TimeWR)</py-script>
	  <br>
	  <div id="map" style="width: 600px; height: 600px"></div>
	  <script src='JavaScript/3pains.js'></script>
          <br>
  </body>
</html>
   
